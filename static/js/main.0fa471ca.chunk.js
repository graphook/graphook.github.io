(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,n,t){e.exports=t(226)},221:function(e,n,t){},226:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(42),o=t.n(i),c=t(87),l=t(125),s=t(117),u=t.n(s),d=t(118),p=t.n(d);c.a.use(u.a).use(p.a).use(l.a).init({fallbackLng:"en-US",debug:!1,whitelist:["en-US","en","es"],react:{wait:!0}});c.a;var f=t(15),h=t(16),m=t(19),g=t(18),b=t(20),v=t(46),x=t(231),w=t(229),y=t(11),k=Object(y.withWebId)(function(e){var n=e.component,t=e.webId,i=Object(v.a)(e,["component","webId"]);return t?a.a.createElement(w.a,{to:"/"}):a.a.createElement(x.a,Object.assign({},i,{component:function(e){return a.a.createElement(r.Fragment,null,a.a.createElement(n,e))}}))}),O=t(230),j=Object(y.withAuthorization)(function(e){var n=e.routes,t=Object(v.a)(e,["routes"]);return a.a.createElement(x.a,Object.assign({},t,{component:function(e){return a.a.createElement(O.a,null,n.map(function(e){return a.a.createElement(x.a,Object.assign({key:e.id},e,{exact:!0}))}),a.a.createElement(w.a,{to:"/404"}))}}))}),E=Object(y.withWebId)(function(e){var n=e.component,t=(e.webId,e.i18n,Object(v.a)(e,["component","webId","i18n"]));return a.a.createElement(x.a,Object.assign({},t,{component:function(e){return a.a.createElement(n,e)}}))}),C=t(228),S=t(227),I=t(3),F=t(2);function D(){var e=Object(I.a)(['\n  color: #656e75;\n  font-family: Raleway;\n  font-size: 16px;\n  font-weight: 500;\n  letter-spacing: 1.2px;\n  line-height: 19px;\n  text-align: center;\n  position: relative;\n  margin: 30px 0;\n  display: inline-block;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  &::before,\n  &::after {\n    width: 32%;\n    content: "";\n    background: #656e75;\n    height: 1px;\n    box-sizing: border-box;\n    top: 50%;\n  }\n\n  span {\n    padding: 0 5px;\n  }\n\n  &::before {\n    right: 0;\n  }\n\n  &::after {\n    left: 0;\n  }\n']);return D=function(){return e},e}function P(){var e=Object(I.a)(["\n  display: grid;\n  flex-direction: column;\n  \n  .provider-login-component {\n    div[role=option] {\n      text-align: left !important;\n      padding-left: 20px;\n    }\n  }\n"]);return P=function(){return e},e}function L(){var e=Object(I.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return L=function(){return e},e}function N(){var e=Object(I.a)(["\n  h1 {\n    color: #ffffff;\n  }\n  width: 500px;\n  margin-left: auto;\n  margin-right: auto;\n"]);return N=function(){return e},e}var U=F.default.div(N()),z=F.default.div(L()),W=F.default.div(P()),T=F.default.span(D()),M=function(e){return a.a.createElement(U,{"data-testid":"login-wrapper"},a.a.createElement("div",null,a.a.createElement(z,{className:"login-panel"},a.a.createElement("img",{src:"/img/OeditOrig.png",alt:"Oedit Logo",style:{width:"300px",marginBottom:"20px",marginTop:"20px",alignSelf:"center"}}),a.a.createElement(W,{className:"panel-body"},a.a.createElement(S.a,{className:"ids-link-filled ids-link-filled--primary",to:"/register"},"Register for a Solid Identity"),a.a.createElement("a",{href:"https://solid.inrupt.com/get-a-solid-pod",rel:"noopener noreferrer",target:"_blank",className:"link"},"What is a Solid Identity?"),a.a.createElement(T,{"data-testid":"login-title"}," ",a.a.createElement("span",null,"Log In")),a.a.createElement(y.ProviderLogin,{selectPlaceholder:"Select ID Provider",inputPlaholder:"WebID",formButtonText:"Log In",btnTxtWebId:"Log In with WebId",btnTxtProvider:"Log In with Provider",className:"provider-login-component",callbackUri:"".concat(window.location.origin,"/"),errorsText:{unknown:"Something is wrong, please try again...",webIdNotValid:"WeibID is not valid",emptyProvider:"Solid Provider is required",emptyWebId:"Valid WebID is required"}})))))},R=t(4),B=t.n(R),A=t(9),G=t(127);function _(){var e=Object(I.a)(["\n  height: 32px;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: row-reverse;\n  justify-content: space-between;\n\n  button {\n    height: 32px;\n    width: 150px;\n    border-radius: 4px;\n    font-family: Raleway;\n    font-size: 10px;\n    font-weight: bold;\n    letter-spacing: 0.89px;\n    line-height: 11px;\n    text-align: center;\n    text-transform: uppercase;\n    border: solid 2px #449df5;\n    box-sizing: border-box;\n  }\n\n  .btn-solid {\n    background-color: #449df5;\n    color: #ffffff;\n  }\n\n  .btn-outlined {\n    background-color: #ffffff;\n    color: #449df5;\n    filter: opacity(40%);\n  }\n"]);return _=function(){return e},e}function q(){var e=Object(I.a)(["\n  height: 100% !important;\n  animation: fadeIn 0.2s ease-in;\n\n  a {\n    display: block;\n    color: #449df5;\n    font-family: Raleway;\n    font-size: 12px;\n    font-weight: 500;\n    letter-spacing: 0.75px;\n    line-height: 14px;\n    text-align: center;\n    text-decoration: none;\n\n    &:hover {\n      font-weight: 700;\n    }\n  }\n\n  .a-with-spacing {\n    margin: 24px 0;\n  }\n\n  ul {\n    padding: 0;\n    margin: 0;\n  }\n"]);return q=function(){return e},e}function J(){var e=Object(I.a)(["\n  position: relative;\n\n  h2 {\n    position: relative;\n    padding: 0;\n    color: #5361fd;\n    font-family: Raleway;\n    font-size: 20px;\n    font-weight: bold;\n    letter-spacing: 0.75px;\n    line-height: 24px;\n    text-align: center;\n    margin: 0;\n    animation: fadeIn 0.5s ease-in;\n  }\n\n  .progress-bar {\n    position: absolute;\n    height: 1px;\n    width: 100%;\n    background: #5361fd;\n    top: 30px;\n  }\n"]);return J=function(){return e},e}function V(){var e=Object(I.a)(["\n  justify-content: space-between;\n"]);return V=function(){return e},e}function H(){var e=Object(I.a)(["\n  h1 {\n    color: #ffffff;\n  }\n  width: 500px;\n  margin-left: auto;\n  margin-right: auto;\n"]);return H=function(){return e},e}var $=F.default.section(H()),K=F.default.div(V()),Q=F.default.div(J()),X=F.default.div(q()),Y=F.default.div(_()),Z=t(63);function ee(){var e=Object(I.a)(['\n  list-style: none;\n  padding: 10px 0;\n  margin: 0;\n\n  & input[type="radio"] {\n    display: none;\n\n    &:checked {\n      + '," {\n        border-color: #5361fd;\n        color: #5361fd;\n\n        .checked {\n          display: block;\n          color: green;\n        }\n      }\n    }\n  }\n"]);return ee=function(){return e},e}function ne(){var e=Object(I.a)(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  border: solid 1.2px rgba(115, 127, 137, 1);\n  height: 40px;\n  margin-bottom: 20.5px;\n  box-sizing: border-box;\n  padding-left: 20px;\n  position: relative;\n  overflow: hidden;\n  box-sizing: border-box;\n  transition: all 0.2s ease-in;\n  display: flex;\n  justify-content: space-between;\n  padding: 0 8px;\n  border-radius: 4px;\n\n  .checked {\n    display: none;\n  }\n\n  &:hover {\n    border-color: #5361fd;\n    color: #5361fd;\n  }\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  .img-group {\n    display: flex;\n    align-items: center;\n\n    img {\n      width: 32px;\n      padding-right: 1em;\n    }\n  }\n"]);return ne=function(){return e},e}var te=F.default.label(ne()),re=F.default.li(ee(),te),ae=function(e){var n=e.data,t=e.onSelect,r=e.radioName,i=e.id,o=e.checked;return a.a.createElement(re,{"data-testid":"provider-item"},a.a.createElement("input",{type:"radio",name:r,id:i,onChange:t,value:n.registerLink,checked:o}),a.a.createElement(te,{htmlFor:i,className:"provider-item"},a.a.createElement("div",{className:"img-group"},a.a.createElement("img",{src:n.image,alt:n.label}),a.a.createElement("span",{className:"label"},n.label)),a.a.createElement(Z.a,{icon:"check",className:"checked"})))};function ie(){var e=Object(I.a)(["\n  text-align: center;\n\n  span {\n    color: #ffffff;\n    font-family: Raleway;\n    font-size: 16px;\n    font-weight: bold;\n    line-height: 20px;\n    text-align: center;\n    display: block;\n    padding: 1.5em 0;\n  }\n\n  .rocket {\n    width: 250px;\n    height: 250px;\n    text-align: center;\n    padding: 40px 0 40px 0;\n  }\n"]);return ie=function(){return e},e}var oe=F.default.div(ie()),ce=function(e){function n(e){var t;return Object(f.a)(this,n),(t=Object(m.a)(this,Object(g.a)(n).call(this,e))).countDown=function(){0===t.state.timeLeft&&t.redirect(),t.setState({timeLeft:t.state.timeLeft-1})},t.redirect=Object(A.a)(B.a.mark(function e(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,clearInterval(t.interval);case 2:t.props.history.push("/login");case 3:case"end":return e.stop()}},e,this)})),t.state={timeLeft:3},t}return Object(b.a)(n,e),Object(h.a)(n,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.countDown,1e3)}},{key:"componentWillUnmount",value:function(){var e=Object(A.a)(B.a.mark(function e(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,clearInterval(this.interval);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.timeLeft;return a.a.createElement(oe,{className:"registration-success--page"},a.a.createElement("div",null,a.a.createElement("h1",null,"Success! Welcome to the decentralized web."),a.a.createElement("img",{src:"/img/rocket.svg",alt:"rocket",className:"rocket"}),a.a.createElement("span",null,"We have emailed you more information about your new Solid Identity"),a.a.createElement("span",null,"We will redirect you to your POD in ",e," seconds...")))}}]),n}(r.Component),le=function(e){function n(e){var t;return Object(f.a)(this,n),(t=Object(m.a)(this,Object(g.a)(n).call(this,e))).next=function(){t.state.canContinue&&(window.location=t.state.register.provider+"?returnToUrl="+window.location.protocol+"//"+window.location.host+"/register/success")},t.selectProvider=function(e){var n=t.state.register;t.setState({register:Object(G.a)({},n,{provider:e.target.value}),canContinue:!0})},t.onSubmit=function(e){e.preventDefault();var n=t.state.canContinue;console.log("Can Continue",n),n&&(window.location=t.state.register.provider+"?returnToUrl="+window.location.protocol+"//"+window.location.host+"/register/success")},t.state={canContinue:!1,register:{provider:""}},t}return Object(b.a)(n,e),Object(h.a)(n,[{key:"render",value:function(){var e=this,n=this.state,t=n.canContinue,i=n.register.provider,o=this.props.providers;return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement($,{"data-testid":"register-wrapper"},a.a.createElement("h1",{"data-testid":"title"},"Hi! Welcome to Solid."),a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement(K,{className:"register-panel"},a.a.createElement(Q,{className:"panel-header","data-testid":"panel-header"},a.a.createElement("h2",null,"Select your Provider")),a.a.createElement(X,{className:"panel-body"},a.a.createElement(r.Fragment,null,a.a.createElement("a",{href:"https://solid.inrupt.com/how-it-works",target:"_blank",rel:"noopener noreferrer"},"What is a provider, and how should I choose one?"),a.a.createElement(S.a,{to:"/login",className:"a-with-spacing"},"I already have a Solid identity"),a.a.createElement("ul",null,o.map(function(n,t){return a.a.createElement(ae,{data:n,key:t,onSelect:e.selectProvider,radioName:"providerRadio",id:"radio-".concat(t),checked:n.registerLink===i})})))),a.a.createElement(Y,{className:"actions"},a.a.createElement("button",{className:"btn-solid",onClick:this.next,type:"submit",disabled:!t},"Next")))))))}}]),n}(r.Component),se=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,null,[{key:"getIdentityProviders",value:function(){return[{label:"Inrupt",image:"/img/inrupt.svg",value:"https://inrupt.net/auth",registerLink:"https://inrupt.net/register",description:"Lorem ipsum dolor sit amet non ipsom dolor"},{label:"Solid Community",image:"/img/Solid.png",value:"https://solid.community",registerLink:"https://solid.community/register",description:"Lorem ipsum dolor sit non consectetur"}]}}]),e}(),ue=function(e){function n(e){var t;return Object(f.a)(this,n),(t=Object(m.a)(this,Object(g.a)(n).call(this,e))).state={providers:[]},t}return Object(b.a)(n,e),Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(A.a)(B.a.mark(function e(){var n;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.getIdentityProviders();case 2:n=e.sent,this.setState({providers:n});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.providers;return a.a.createElement(le,Object.assign({providers:e},this.props))}}]),n}(r.Component);function de(){var e=Object(I.a)(["\n  max-width: 54%;\n  margin: 100px 40px 0 50px;\n  \n  \n  @media only screen and (max-width: 900px) {\n    max-width: 100%;\n    margin: 20px 40px;\n    text-align: center;\n  }\n  \n  @media only screen and (max-width: 600px) {\n    img {\n      width: 100%;\n    }\n  }\n"]);return de=function(){return e},e}function pe(){var e=Object(I.a)(["\n    display: flex;\n    flex-direction: row-reverse;\n    background-image: url('/img/spaceman.svg');\n    background-repeat: no-repeat;\n    background-position-x: -125px;\n    background-position-y: 100px;\n    height: 100%;\n    \n    @media only screen and (max-width: 900px) {\n      background-image: url('/img/spaceman-mobile.svg');\n      background-position: left -80px bottom -10px;\n      background-size: 70%;\n    }\n"]);return pe=function(){return e},e}var fe=F.default.section(pe()),he=F.default.div(de()),me=function(){return a.a.createElement(fe,null,a.a.createElement(he,null,a.a.createElement("img",{src:"/img/404.svg",alt:"404"}),a.a.createElement("h3",null,"Page not found"),a.a.createElement("p",null,"There may be an error in the URL entered into your web browser. Please check the URL and try again. Or the page you're looking for has been moved or deleted"),a.a.createElement("div",null,a.a.createElement(S.a,{to:"/",className:"ids-link"},"Take me back to the welcome page"))))},ge=t(13),be=t(64),ve=t.n(be),xe=t(45),we=t.n(xe);function ye(){var e=Object(I.a)(["\n  max-width: 500px;\n  margin-bottom: 10px;\n"]);return ye=function(){return e},e}function ke(){var e=Object(I.a)(["\n  display: flex;\n  align-items: center;\n  padding: 10px;\n  flex-direction: column;\n"]);return ke=function(){return e},e}function Oe(){var e=Object(I.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n"]);return Oe=function(){return e},e}function je(){var e=Object(I.a)(["\n  background-color: ","\n  color: ","\n  padding-left: 15px;\n  padding-right: 15px;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  border-radius: 19px;\n  font-size: 14px;\n  margin-left: ","\n  margin-right: ","\n  max-width: 60%;\n"]);return je=function(){return e},e}function Ee(){var e=Object(I.a)(["\n  height: 20px;\n  border-radius: 50%;\n"]);return Ee=function(){return e},e}function Ce(){var e=Object(I.a)(["\n  display: flex;\n  align-items: flex-end;\n  flex-direction: ","\n  margin-top: 8px;\n  margin-bottom: 8px;\n"]);return Ce=function(){return e},e}function Se(){var e=Object(I.a)(["\n  flex-grow: 1;\n  overflow: auto;\n  padding-left: 12px;\n  padding-right: 12px;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  overflow-x: auto;\n"]);return Se=function(){return e},e}function Ie(){var e=Object(I.a)(["\n  background-color: transparent !important;\n  border: none !important;\n  padding-left: 12px !important;\n  background-color: red;\n"]);return Ie=function(){return e},e}function Fe(){var e=Object(I.a)(["\n  flex-shrink: 1;\n  height: 50px;\n  border-top: 1px solid ","\n  display: flex;\n  align-items: center;\n  padding-right: 12px;\n  flex-shrink: 0;\n"]);return Fe=function(){return e},e}function De(){var e=Object(I.a)(["\n  display: flex;\n  align-items: center;\n"]);return De=function(){return e},e}function Pe(){var e=Object(I.a)(["\n  flex-grow: 1;\n  z-index: 1;\n"]);return Pe=function(){return e},e}function Le(){var e=Object(I.a)(["\n  height: 26px;\n"]);return Le=function(){return e},e}function Ne(){var e=Object(I.a)(["\n  height: 50px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px;\n  box-sizing: border-box;\n  background-color: #303136;\n  z-index: 2;\n"]);return Ne=function(){return e},e}function Ue(){var e=Object(I.a)(["\n  display: flex;\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100vh;\n  width: 100vw;\n  background-color: #1c1c1c;\n  flex-direction: column;\n"]);return Ue=function(){return e},e}var ze=F.default.section(Ue()),We=F.default.div(Ne()),Te=F.default.img(Le()),Me=F.default.div(Pe()),Re=F.default.div(De()),Be=(F.default.form(Fe(),"#F3F2F4"),F.default.input(Ie()),F.default.ul(Se()),F.default.li(Ce(),function(e){return e.me?"row-reverse":"row"}),F.default.img(Ee()),F.default.div(je(),function(e){return e.me?"#190335":"#F3F2F4"},function(e){return e.me?"#FFF":"#190335"},function(e){return e.me?"25px":"5px"},function(e){return e.me?"5px":"25px"}),F.default.div(Oe()),F.default.form(ke()),F.default.input(ye()),t(65)),Ae=t(68),Ge=t.n(Ae),_e=t(124),qe=t(52),Je=t.n(qe);function Ve(){var e=Object(I.a)(["\n  width: 60px;\n  margin-top: 9px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: #FFF;\n  border-radius: 0 0 5px 5px;\n  cursor: pointer;\n  padding: 8px;\n  background-color: #303136;\n"]);return Ve=function(){return e},e}var He=F.default.ul(Ve()),$e=function(e){function n(e){var t;return Object(f.a)(this,n),(t=Object(m.a)(this,Object(g.a)(n).call(this,e))).state={profilePhoto:"",name:""},t}return Object(b.a)(n,e),Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(A.a)(B.a.mark(function e(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.webId){e.next=3;break}return e.next=3,this.fetchProfilePhoto();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(A.a)(B.a.mark(function e(n,t){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.webId||this.props.webId===n.webId){e.next=3;break}return e.next=3,this.fetchProfilePhoto();case 3:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}()},{key:"fetchProfilePhoto",value:function(){var e=Object(A.a)(B.a.mark(function e(){var n,t;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je.a.user.image;case 2:if(e.t0=e.sent,e.t0){e.next=7;break}return e.next=6,Je.a.user.vcard_hasPhoto;case 6:e.t0=e.sent;case 7:return n=e.t0,e.next=10,Je.a.user.name;case 10:t=e.sent,this.setState({profilePhoto:n.value,name:t.value});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(A.a)(B.a.mark(function e(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.a.logout();case 3:localStorage.removeItem("solid-auth-client"),this.props.history.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error: ".concat(e.t0));case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.a.createElement(Ge.a,{style:{position:"relative"}},a.a.createElement(Ae.DropdownTrigger,{style:{cursor:"pointer"}},a.a.createElement(_e.a,{name:this.state.name,src:this.state.profilePhoto,round:!0,size:30})),a.a.createElement(Ae.DropdownContent,{style:{right:0}},a.a.createElement(He,null,a.a.createElement("li",{onClick:this.logout},"Log Out"))))}}]),n}(r.Component),Ke=Object(y.withAuthorization)(Object(y.withWebId)($e)),Qe=function(e){function n(e){var t;return Object(f.a)(this,n),(t=Object(m.a)(this,Object(g.a)(n).call(this,e))).state={content:"",changesToCompare:!1,unsavedChanges:!1,compareMode:!1,originalContent:""},t.handleEditorDidMount=t.handleEditorDidMount.bind(Object(ge.a)(Object(ge.a)(t))),t.getCurrentFileContent=t.getCurrentFileContent.bind(Object(ge.a)(Object(ge.a)(t))),t.saveCurrentFileContent=t.saveCurrentFileContent.bind(Object(ge.a)(Object(ge.a)(t))),t.onNewFileContent=t.onNewFileContent.bind(Object(ge.a)(Object(ge.a)(t))),t.initSockets=t.initSockets.bind(Object(ge.a)(Object(ge.a)(t))),t.save=t.save.bind(Object(ge.a)(Object(ge.a)(t))),t}return Object(b.a)(n,e),Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(A.a)(B.a.mark(function e(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.docUrl=this.getDocUrl(),e.next=3,this.initSockets();case 3:return e.t0=this,e.next=6,this.getCurrentFileContent();case 6:e.t1=e.sent,e.t2={content:e.t1},e.t0.setState.call(e.t0,e.t2),this.lastSaved=new Date;case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.editor&&this.editor.dispose()}},{key:"getDocUrl",value:function(){var e=this.props.location;if(e)try{var n=new URL("https://example.com"+e.pathname+e.search).searchParams.get("doc");try{return new URL(n),n}catch(t){return null}}catch(t){return null}return null}},{key:"handleEditorDidMount",value:function(){var e=Object(A.a)(B.a.mark(function e(n,t){var r,a=this;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.editor=t,this.valueGetter=n,this.docUrl){e.next=7;break}return e.next=5,new Promise(function(e,n){e(window.prompt("Enter a valid URL for the document you would like to view"))});case 5:r=e.sent,this.props.history.push("".concat(this.props.location.pathname,"?doc=").concat(r));case 7:this.state.compareMode||this.editor.onDidChangeModelContent(function(e){new Date-a.lastSaved>1e3&&a.setState({unsavedChanges:!0})});case 8:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}()},{key:"getCurrentFileContent",value:function(){var e=Object(A.a)(B.a.mark(function e(){var n;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.a.fetch(this.docUrl);case 2:return n=e.sent,e.next=5,n.text();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"saveCurrentFileContent",value:function(){var e=Object(A.a)(B.a.mark(function e(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastSaved=new Date,e.next=3,we.a.fetch(this.docUrl,{method:"PUT",headers:{"Content-Type":"text/turtle"},body:this.valueGetter()});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initSockets",value:function(){var e=Object(A.a)(B.a.mark(function e(){var n,t;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n="wss://".concat(new URL(this.docUrl).host,"/"),this.socket=new WebSocket(n),t=this.docUrl,this.socket.onopen=function(){this.send("sub ".concat(t))},this.socket.onmessage=this.onNewFileContent;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onNewFileContent",value:function(e){var n=new Date-this.lastSaved;console.log("New Message after ".concat(n,"ms"),e),/pub.*/.test(e.data)&&n>2e3&&this.setState({changesToCompare:!0})}},{key:"save",value:function(){var e=Object(A.a)(B.a.mark(function e(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.unsavedChanges||this.state.changesToCompare){e.next=6;break}return e.next=3,this.saveCurrentFileContent();case 3:this.setState({compareMode:!1,unsavedChanges:!1,originalContent:"",content:this.valueGetter()}),e.next=13;break;case 6:if(!this.state.changesToCompare){e.next=13;break}return e.t0=this,e.next=10,this.getCurrentFileContent();case 10:e.t1=e.sent,e.t2={compareMode:!0,changesToCompare:!1,unsavedChanges:!0,originalContent:e.t1},e.t0.setState.call(e.t0,e.t2);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return a.a.createElement(ze,null,a.a.createElement(We,null,a.a.createElement(Re,null,a.a.createElement(Te,{src:"/img/OeditOrig.png"}),a.a.createElement(Z.a,{icon:Be.a,style:{fontSize:"20px",color:this.state.unsavedChanges?"#73b8fc":"#666",marginLeft:"16px",cursor:this.state.unsavedChanges?"pointer":"arrow"},onClick:this.save})),a.a.createElement(Re,null,this.state.changesToCompare?a.a.createElement("button",{style:{marginRight:"16px"},onClick:Object(A.a)(B.a.mark(function n(){return B.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=e,n.next=3,e.getCurrentFileContent();case 3:n.t1=n.sent,n.t2={compareMode:!0,changesToCompare:!1,unsavedChanges:!0,originalContent:n.t1},n.t0.setState.call(n.t0,n.t2);case 6:case"end":return n.stop()}},n,this)}))},"New changes were made to this file. Compare changes?"):"",a.a.createElement(Ke,null))),a.a.createElement(Me,null,this.state.compareMode?a.a.createElement(be.DiffEditor,{theme:"dark",language:"none",original:this.state.originalContent,modified:this.state.content,editorDidMount:this.handleEditorDidMount,loading:"Loading..."}):a.a.createElement(ve.a,{theme:"dark",language:"none",value:this.state.content,editorDidMount:this.handleEditorDidMount,loading:"Loading..."})))}}]),n}(r.Component);Qe.contextType=y.UpdateContext;var Xe=[{id:"editor",path:"/*",component:Object(y.withAuthorization)(Object(y.withWebId)(Qe))}],Ye=function(){return a.a.createElement(C.a,null,a.a.createElement(r.Fragment,null,a.a.createElement(O.a,null,a.a.createElement(k,{component:M,path:"/login",exact:!0}),a.a.createElement(k,{component:ue,path:"/register",exact:!0}),a.a.createElement(k,{path:"/register/success",component:ce,exact:!0}),a.a.createElement(E,{path:"/404",component:me,exact:!0}),a.a.createElement(j,{path:"/",routes:Xe}),a.a.createElement(w.a,{to:"/404"}))))},Ze=t(47),en=t(123);t(217),t(219),t(221),t(223);Ze.b.add(Be.b),Ze.b.add(en.a);var nn=function(e){function n(){return Object(f.a)(this,n),Object(m.a)(this,Object(g.a)(n).apply(this,arguments))}return Object(b.a)(n,e),Object(h.a)(n,[{key:"render",value:function(){return a.a.createElement(r.Suspense,null,a.a.createElement(r.Fragment,null,a.a.createElement(Ye,null)))}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(nn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},45:function(e,n){e.exports=solid.auth},52:function(e,n){e.exports=solid.data}},[[128,2,1]]]);
//# sourceMappingURL=main.0fa471ca.chunk.js.map